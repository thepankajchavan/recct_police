import{y as C,r as t,j as e,F as a,R as l,p as n,B as S,aO as c,C as r}from"./app-47b17f36.js";import{P as E}from"./PageBreadcrumbButton-9aff5d40.js";import"./PageBreadcrumb-c0dab2ca.js";const F=()=>{const{id:o}=C(),[h,u]=t.useState([]),[P,x]=t.useState(),[j,i]=t.useState([]),[p,m]=t.useState(""),[g,d]=t.useState("");let f=document.head.querySelector('meta[name="csrf-token"]');const v=()=>{c.get("/admin/fetch-permissions").then(s=>{u(s.data)})},y=()=>{c.get("/admin/fetch-role/"+o).then(s=>{x(s.data),i(s.data.rolePermissions),m(s.data.role.name),d(s.data.role.guard_name)})};function N(s){let R=Array.from(s.target.selectedOptions,b=>b.value);i(R)}return t.useEffect(()=>{v(),y()},[]),e.jsx(e.Fragment,{children:e.jsxs(a,{method:"post",action:"/admin/roles/"+o,children:[e.jsx(a.Control,{type:"hidden",name:"_method",value:"put"}),e.jsx(a.Control,{type:"hidden",name:"_token",value:f.content}),e.jsxs(l,{className:"gy-6 gy-sm-8 gy-md-6",children:[e.jsx(n,{lg:12,sm:12,children:e.jsxs(l,{children:[e.jsxs(n,{sm:6,className:"mt-3",children:[e.jsx(a.Label,{htmlFor:"name",children:"Name"}),e.jsx(a.Control,{type:"text",id:"name",placeholder:"Name",name:"name",value:p,onChange:s=>m(s.target.value)})]}),e.jsxs(n,{sm:6,className:"mt-3",children:[e.jsx(a.Label,{htmlFor:"gurardName",children:"Roles"}),e.jsxs(a.Select,{name:"guard_name","aria-label":"Default select example",id:"gurardName",value:g,onChange:s=>d(s.target.value),children:[e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"web",children:"Web"}),e.jsx("option",{value:"sanctum",children:"Sanctum"})]})]}),e.jsxs(n,{sm:12,className:"mt-3",children:[e.jsx(a.Label,{htmlFor:"exampleDataList",children:"Permissions"}),e.jsx(a.Select,{name:"permission[]","aria-label":"Default select example",value:j,onChange:N,multiple:!0,children:h.map(s=>e.jsx("option",{value:""+s.id,children:s.name}))})]})]})}),e.jsx(n,{sm:12,children:e.jsx(S,{type:"submit",variant:"primary",children:"Add User"})})]})]})})},L=()=>e.jsxs(e.Fragment,{children:[e.jsx(E,{title:"Edit Role",subName:"Access Manger",url:"https://react-bootstrap.netlify.app/docs/forms/overview"}),e.jsx(l,{className:"g-3 g-md-4",children:e.jsx(n,{xs:12,children:e.jsxs(r,{children:[e.jsx(r.Header,{children:e.jsx(r.Title,{children:"Edit Role"})}),e.jsx(r.Body,{children:e.jsx(F,{})})]})})})]});export{L as default};
